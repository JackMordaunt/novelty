<html>
    <head>
        <title>websocket test</title>
    </head>
    <body>
        <div id="app"></div>
    </body>
    <script type="text/javascript">
        var ws = new WebSocket("ws://localhost:9090/ws")
        ws.onmessage = function(msg) {
            console.log(msg.data)
            var pre = document.createElement("pre")
            pre.innerText = msg.data
            document.getElementById("app").appendChild(pre)
        }
        ws.onerror = function(err) {
            console.log(err)
        }
        ws.onopen = function() {
            ws.send(JSON.stringify({
                name: "open-show",
                data: {
                    name: "big-buck-bunny.mp4",
                    uri: "magnet:?xt=urn:btih:88594AAACBDE40EF3E2510C47374EC0AA396C08E&dn=bbb_sunflower_1080p_30fps_normal.mp4&tr=udp%3a%2f%2ftracker.openbittorrent.com%3a80%2fannounce&tr=udp%3a%2f%2ftracker.publicbt.com%3a80%2fannounce&ws=http%3a%2f%2fdistribution.bbb3d.renderfarming.net%2fvideo%2fmp4%2fbbb_sunflower_1080p_30fps_normal.mp4",
                }
            }))      
        }
    </script>
</html>